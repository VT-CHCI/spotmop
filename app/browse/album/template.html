<div>
	
	<div class="album-intro">
		<div class="image-container" ng-repeat="image in album.images | filter:image.height=300 | limitTo:1">
			<div class="image animate" style="background-image: url({{ image.url }});"></div>
		</div>
		<h1 ng-bind="album.name"></h1>
		<h2>
			<span ng-repeat="artist in album.artists">
				<a href="/browse/artist/{{ artist.uri }}" ng-bind="artist.name"></a><span ng-if="!$last">, </span>
			</span>
		</h2>
		<div class="info-text">
			<span ng-bind="album.tracks.items.length"></span> track<span ng-hide="album.tracks.items.length<=1">s</span> &nbsp;|&nbsp; <span ng-bind="totalTime"></span> minutes</div>
		<div class="clear-both"></div>
	</div>
	
	
	<div class="album-items tracklist" ng-controller="TracklistController" >
	
		<div class="track {{ class }}" ng-click="trackClicked( $event )" ng-dblclick="trackDoubleClicked( $event )" ng-repeat="track in tracks.items" data-uri="{{ track.track.uri }}">
			<div class="col w30 title" ng-bind="track.name"></div>
			<div class="col w30 artist">
				<span ng-repeat="artist in track.artists">
					<a href="/browse/artist/{{ artist.uri }}" ng-bind="artist.name"></a><span ng-if="!$last">, </span>
				</span>
			</div>
			<div class="col w30 album"><a href="/browse/album/{{ track.album.uri }}" ng-bind="track.track.album.name"></a></div>
			<div class="col w5 duration">{{ track.duration_ms | formatMilliseconds }}</div>
			<div class="col w5 popularity">
				<div class="bars">
					<span class="bar" ng-class="{true:'on'}[track.popularity>0]"></span>
					<span class="bar" ng-class="{true:'on'}[track.popularity>20]"></span>
					<span class="bar" ng-class="{true:'on'}[track.popularity>40]"></span>
					<span class="bar" ng-class="{true:'on'}[track.popularity>60]"></span>
					<span class="bar" ng-class="{true:'on'}[track.popularity>80]"></span>
				</div>
			</div>
			<div class="clear-both"></div>
		</div>

		<div ng-hide="tracks.items.length" class="no-items">
			No items
		</div>
		
	</div>
	
</div>